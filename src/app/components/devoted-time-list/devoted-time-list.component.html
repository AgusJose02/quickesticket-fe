<div class="container">
  <h2>Tiempo dedicado a {{ ticket?.title}} - #{{ ticket?.id }}</h2>
  <a href="/tickets/{{ticketId}}" target="_self" rel="noopener noreferrer"
    class="p-button button-link">Volver</a>
  <a href="/tickets/{{ticket?.id}}/devoted-time/new" target="_self" rel="noopener noreferrer"
    class="p-button button-link">Añadir</a>


  <h4 *ngIf="timeEntries.length === 0">Aún no hay tiempo dedicado a este ticket!</h4>


  <div class="time-entries-list" *ngIf="timeEntries.length > 0 && ticket">
    <table class="table">

      <thead>
        <tr>
          <th>Fecha</th>
          <th>Descripción</th>
          <th>Cantidad</th>
          <th>Cantidad cliente</th>
          <th>Usuario</th>
          <th>Editar</th>
          <th>Eliminar</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let time of  timeEntries">
          <td>{{ time.date | date:'dd/MM/yyyy':'UTC'}}</td>
          <td>{{ time.description }}</td>
          <td>{{ time.amount }} h</td>
          <td><p *ngIf="time.client_time_amount">{{ time.client_time_amount}} h</p></td>
          <td>{{ time.user.username}}</td>
          <td>
            <p-button icon="pi pi-pencil" (click)="updateTimeEntry(time.id)"></p-button>
          </td>
          <td>
            <!-- <p-confirmDialog header="Confirmar"></p-confirmDialog> -->
            <p-button icon="pi pi-trash" (click)="deleteTimeEntry(time.id)"></p-button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</div>